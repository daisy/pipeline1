<taskScript version="1.0">
	<name>Monster!!! (test script)</name>
	<description>The monster test script. Runs RTF to DTBook, Narrator, DTBook to LaTeX, DTBook to XHTML and more...</description>
	
	<property name="input" value="FIXME" type="application/rtf"/>
	<property name="outputPath" value="FIXME" type="application/x-filesystemDirectory"/>
	
	
	<!-- *************************
	      RTF to DTBook 
	     ************************* -->
	<task name="ca_cnib_rtf2dtbook" interactive="false">

		<parameter>
			<name>rtf</name>
			<value>${input}</value>
		</parameter>
					
		<parameter id="id1">
			<name>dtbook</name>
			<value>${outputPath}/00-dtbook.xml</value>
		</parameter>		
				
	</task>
	
	<!-- *************************
	      DTBook input validation 
	     ************************* -->
	<task name="se_tpb_xmlValidator" interactive="false">
		<parameter>
			<name>xml</name>
			<value>${outputPath}/00-dtbook.xml</value>
		</parameter>
		<parameter>
			<name>relaxngSchema</name>
			<value>-//NISO//RNG dtbook 2005-1//EN</value>
		</parameter>
		<parameter>
			<name>useSchematron</name>
			<value>true</value>
		</parameter>
		<parameter>
			<name>useDTD</name>
			<value>true</value>
		</parameter>
	</task>
	<task name="se_tpb_xmlValidator" interactive="false">
		<parameter>
			<name>xml</name>
			<value>${outputPath}/00-dtbook.xml</value>
		</parameter>
		<parameter>
			<name>relaxngSchema</name>
			<value>-//TPB//RNG dtbook 2005-1 Narrator//EN</value>
		</parameter>
		<parameter>
			<name>useSchematron</name>
			<value>true</value>
		</parameter>
		<parameter>
			<name>useDTD</name>
			<value>true</value>
		</parameter>
	</task>
	
	<!-- ****************************
	      Convert it to LaTeX... 
	     **************************** -->
	<task name="se_tpb_dtbook2latex" interactive="false">
		<parameter>
			<name>xml</name>
			<value>${outputPath}/00-dtbook.xml</value>
		</parameter>					
		<parameter>
			<name>out</name>
			<value>${outputPath}/00-dtbook.tex</value>
		</parameter>				
	</task>
	
	<!-- *************************************
	      Convert the DTBook to plain HTML... 
	     ************************************* -->
	<task name="uk_rnib_dtbook2xhtml" interactive="false">
		<parameter>
			<name>xml</name>
			<value>${outputPath}/00-dtbook.xml</value>
		</parameter>					
		<parameter>
			<name>out</name>
			<value>${outputPath}/00-dtbook.html</value>
		</parameter>			
	</task>
	
	<!-- *************************************
	      Convert the DTBook to plain text... 
	     ************************************* -->
	<task name="uk_rnib_dtbook2text" interactive="false">
		<parameter>
			<name>xml</name>
			<value>${outputPath}/00-dtbook.xml</value>
		</parameter>					
		<parameter>
			<name>out</name>
			<value>${outputPath}/00-dtbook.txt</value>
		</parameter>				
	</task>
	
	<!-- ****************************
	      Abbr and Acronym detection 
	     **************************** -->
	<task name="se_tpb_xmldetection" interactive="false">
		<parameter>
			<name>input</name>
			<value>${outputPath}/00-dtbook.xml</value>
		</parameter>		
		<parameter id="abbr">
			<name>output</name>
			<value>${outputPath}/01-abbracro.xml</value>
		</parameter>		
		<parameter>
			<name>doAbbrAcronymDetection</name>
			<value>true</value>
		</parameter>		
		<parameter>
			<name>doSentenceDetection</name>
			<value>false</value>
		</parameter>		
		<parameter>
			<name>doWordDetection</name>
			<value>false</value>
		</parameter>
	</task>
	
	<!-- *********************
	      Structure announcer 
	     ********************* -->
	<task name="se_tpb_annonsator" interactive="false">
		<parameter ref="abbr">
			<name>input</name>
			<value>${outputPath}/01-abbracro.xml</value>
		</parameter>		
		<parameter id="str">
			<name>output</name>
			<value>${outputPath}/02-struct.xml</value>
		</parameter>		
	</task>
	
	<!-- ********************
	      Sentence detection 
	     ******************** -->
	<task name="se_tpb_xmldetection" interactive="false">
		<parameter ref="str">
			<name>input</name>
			<value>${outputPath}/02-struct.xml</value>
		</parameter>		
		<parameter id="sen">
			<name>output</name>
			<value>${outputPath}/03-sent.xml</value>
		</parameter>		
		<parameter>
			<name>doAbbrAcronymDetection</name>
			<value>false</value>
		</parameter>		
		<parameter>
			<name>doSentenceDetection</name>
			<value>true</value>
		</parameter>		
		<parameter>
			<name>doWordDetection</name>
			<value>false</value>
		</parameter>
	</task>
	
	<!-- *****************************
	      Synchronization point normalization 
	     ***************************** -->
	<task name="se_tpb_syncPointNormalizer" interactive="false">
		<parameter ref="sen">
			<name>input</name>
			<value>${outputPath}/03-sent.xml</value>
		</parameter>		
		<parameter id="mix">
			<name>output</name>
			<value>${outputPath}/04-syncpoint.xml</value>
		</parameter>
	</task>


	<!-- ******************
	      Speech Generator
	     ****************** -->
	<task name="se_tpb_speechgenerator" interactive="false">
		<parameter>
			<name>inputFilename</name>
			<value>${outputPath}/04-syncpoint.xml</value>
		</parameter>
		<parameter>
			<name>outputDirectory</name>
			<value>${outputPath}/z3986/</value>
		</parameter>
		<parameter>
			<name>outputFilename</name>
			<value>${outputPath}/z3986/06-speechgen.xml</value>
		</parameter>
	</task>


	<!-- ******************
	      File Set Creator
	     ****************** -->
	<task name="se_tpb_filesetcreator" interactive="false">
		<parameter>
			<name>outputDirectory</name>
			<value>${outputPath}/z3986</value>
		</parameter>
		<parameter>
			<name>manuscriptFilename</name>
			<value>${outputPath}/z3986/06-speechgen.xml</value>
		</parameter>
		<parameter>
			<name>outputDTBFilename</name>
			<value>${outputPath}/z3986/07-dtbook.xml</value>
		</parameter>		
	</task>
	
	
	<!-- *************
	      Error Scout
	     ************* -->
	<task name="se_tpb_dtbErrorScout" interactive="false">
		<parameter>
			<name>manifest</name>
			<value>${outputPath}/z3986/06-speechgen.opf</value>
		</parameter>		
		<parameter>
			<name>scoutLevel</name>
			<value>MAXED</value>
		</parameter>
		<parameter>
			<name>filesetType</name>
			<value>Z3986</value>
		</parameter>						
	</task>
	
	
	<!-- ***************
	      Audio encoder
	     *************** -->
	<task name="se_tpb_dtbAudioEncoder" interactive="false">
		<parameter>
			<name>manifest</name>
			<value>${outputPath}/z3986/06-speechgen.opf</value>
		</parameter>					
		<parameter>
			<name>outDir</name>
			<value>${outputPath}/z3986-mp3</value>
		</parameter>						
	</task>
	
	
	<!-- ************************************
	      Z3986-2005 to Daisy 2.02 Converter
	     ************************************ -->
	<task name="se_tpb_zed2daisy202" interactive="false">
		<parameter>
			<name>manifest</name>
			<value>${outputPath}/z3986-mp3/06-speechgen.opf</value>
		</parameter>					
		<parameter>
			<name>outDir</name>
			<value>${outputPath}/daisy202</value>
		</parameter>				
	</task>
	
	<!-- *************
	      Error Scout
	     ************* -->
	<task name="se_tpb_dtbErrorScout" interactive="false">
		<parameter>
			<name>manifest</name>
			<value>${outputPath}/daisy202/ncc.html</value>
		</parameter>		
		<parameter>
			<name>scoutLevel</name>
			<value>MAXED</value>
		</parameter>
		<parameter>
			<name>filesetType</name>
			<value>DAISY_202</value>
		</parameter>						
	</task>	
	
	<!-- ************************************
	      Unicode transcoding to UTF-8
	     ************************************ -->
	<task name="int_daisy_unicodeTranscoder" interactive="true">
		<parameter>
			<name>inXML</name>
			<value>${outputPath}/daisy202/ncc.html</value>
		</parameter>
		<parameter>
			<name>outDir</name>
			<value>${outputPath}/daisy202-trans</value>
		</parameter>		
		<parameter>
			<name>outputEncoding</name>
			<value>utf-8</value>
		</parameter>		
	</task>
	
	<!-- *************
	      Error Scout
	     ************* -->
	<task name="se_tpb_dtbErrorScout" interactive="false">
		<parameter>
			<name>manifest</name>
			<value>${outputPath}/daisy202/ncc.html</value>
		</parameter>		
		<parameter>
			<name>scoutLevel</name>
			<value>MAXED</value>
		</parameter>
		<parameter>
			<name>filesetType</name>
			<value>DAISY_202</value>
		</parameter>						
	</task>	

	<!-- ************************************
	      Unicode normalization
	     ************************************ -->
	<task name="int_daisy_unicodeNormalizer" interactive="true">
		<parameter>
			<name>inXML</name>
			<value>${outputPath}/daisy202/ncc.html</value>
		</parameter>
		<parameter>
			<name>outDir</name>
			<value>${outputPath}/daisy202-norm</value>
		</parameter>		
	</task>
	
	<!-- *************
	      Error Scout
	     ************* -->
	<task name="se_tpb_dtbErrorScout" interactive="false">
		<parameter>
			<name>manifest</name>
			<value>${outputPath}/daisy202/ncc.html</value>
		</parameter>		
		<parameter>
			<name>scoutLevel</name>
			<value>MAXED</value>
		</parameter>
		<parameter>
			<name>filesetType</name>
			<value>DAISY_202</value>
		</parameter>						
	</task>
	
</taskScript>
